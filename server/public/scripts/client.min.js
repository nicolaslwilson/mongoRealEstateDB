var realEstateListingsApp=function(){var a={};a.refreshListings=function(){d()},a.submitListing=function(a){e(a)};var b=function(a){for(var b=0;b<a.length;b++)$("#listingsContainer").append(c(a[b]))},c=function(a){var b=a.cost?"Sale":"Rent";return $("<div>").addClass("col-xs-12 col-sm-6 col-md-4 col-lg-3").addClass(b).data("id",a._id).append($("<div>").addClass("listing-container").append($("<i>").addClass("placeholder-icon").attr("aria-hidden","true").addClass(a.cost?"glyphicon glyphicon-home":"fa fa-building")).append($("<p>").addClass("square-feet").text(a.sqft+" Sq. Feet")).append($("<p>").addClass("price").text("$"+(a.cost?a.cost:a.rent+" per Month"))).append($("<p>").addClass("location").text(a.city)).append($("<h5>").addClass("typeFlare").text("For "+b)))},d=function(){$.ajax({url:"/listings",type:"GET",success:function(a){console.log(a),b(a)}})},e=function(b){$.ajax({url:"/listings",type:"POST",data:b,success:function(b){console.log(b),a.refreshListings()}})};return a}(),clickAddListing=function(){$("#postListingModal").modal("show")},addClickEventListeners=function(){$("#addListingButton").on("click",clickAddListing),$("#postListingModal form").on("submit",clickSubmit),$("#rentRadio").on("click",clickRent),$("#saleRadio").on("click",clickSale),$(".listingFilterButtonGroup").on("click","button",clickFilter)},clickSubmit=function(a){a.preventDefault();var b=$("#postPriceInput").data("type"),c={sqft:$("#postSqftInput").val(),city:$("#postCityInput").val()};c[b]=$("#postPriceInput").val(),realEstateListingsApp.submitListing(c),$("#postListingModal").modal("hide")},clickRent=function(){$("#postPriceInput").data("type","rent"),$("#priceInputAddon").text(".00 per Month")},clickSale=function(){$("#postPriceInput").data("type","cost"),$("#priceInputAddon").text(".00")},clickFilter=function(){var a=$(this).data("filter");$(".listingFilterButtonGroup button").removeClass("active"),$(this).addClass("active"),$("#listingsContainer").children().hide(),$("#listingsContainer").children(a).show()};$(document).ready(function(){console.log("jQuery loads"),realEstateListingsApp.refreshListings(),addClickEventListeners()});